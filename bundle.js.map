{"version":3,"sources":["Button.js","Container.js","Tile.js","main.js"],"names":["Button","text","className","value","parent","_htmlElem","document","createElement","innerHTML","_value","classList","add","remove","Container","x","y","width","height","_x","_y","_width","_height","_elements","elem","_parent","push","forEach","item","i","length","update","e","Tile","color","style","backgroundColor","_buttons","group","btn1","btn2","btn3","map","addEventListener","catchTheClick","appendChild","index","findIndex","checkTheHtmlElem","button","element","target","setValue","checkTheValue","setAsActive","setAsInactive","left","top","window","init","numberOfTiles","elementsInTheLine","containerHeight","tiles","containers","body","getElementsByTagName","tile","container","console","log","windowSize","getWindowSize","containerWidth","theCopy","slice","column","row","setPosition","setSize","reset","splice","innerWidth","innerHeight"],"mappings":";;;;;;IAAMA;AAEJ,oBAA4D;AAAA,QAAhDC,IAAgD,yDAAzC,EAAyC;AAAA,QAArCC,SAAqC,yDAAzB,QAAyB;AAAA,QAAfC,KAAe;AAAA,QAARC,MAAQ;;AAAA;;AAC1D,SAAKC,SAAL,GAAiBC,SAASC,aAAT,CAAuB,KAAvB,CAAjB;AACA,SAAKF,SAAL,CAAeH,SAAf,GAA2BA,SAA3B;AACA,SAAKG,SAAL,CAAeG,SAAf,GAA2BP,IAA3B;AACA,SAAKQ,MAAL,GAAcN,KAAd;AACD;;;;kCAEa;AACZ,WAAKE,SAAL,CAAeK,SAAf,CAAyBC,GAAzB,CAA6B,QAA7B;AACD;;;oCAEe;AACd,WAAKN,SAAL,CAAeK,SAAf,CAAyBE,MAAzB,CAAgC,QAAhC;AACD;;;;;;;;;;;ICfGC;AACJ,uBAAiD;AAAA,QAArCC,CAAqC,yDAAjC,CAAiC;AAAA,QAA9BC,CAA8B,yDAA1B,CAA0B;AAAA,QAAvBC,KAAuB,yDAAf,CAAe;AAAA,QAAZC,MAAY,yDAAH,CAAG;;AAAA;;AAC/C,SAAKC,EAAL,GAAUJ,CAAV;AACA,SAAKK,EAAL,GAAUJ,CAAV;AACA,SAAKK,MAAL,GAAcJ,KAAd;AACA,SAAKK,OAAL,GAAeJ,MAAf;AACA,SAAKK,SAAL,GAAiB,EAAjB;AACA,SAAKb,MAAL,GAAc,CAAd;AACD;AACD;;;;;gCACYK,GAAGC,GAAG;AAChB,WAAKG,EAAL,GAAUJ,CAAV;AACA,WAAKK,EAAL,GAAUJ,CAAV;AACD;AACD;;;;4BACQC,OAAOC,QAAQ;AACrB,WAAKG,MAAL,GAAcJ,KAAd;AACA,WAAKK,OAAL,GAAeJ,MAAf;AACD;AACD;;;;yBACKM,MAAM;AACT,WAAKd,MAAL;AACAc,WAAKC,OAAL,GAAe,IAAf;AACA,WAAKF,SAAL,CAAeG,IAAf,CAAoBF,IAApB;AACD;AACD;;;;6BACSpB,OAAO;AACd,WAAKM,MAAL,GAAcN,KAAd;AACD;AACD;;;;4BACQ;AACN,WAAKM,MAAL,GAAc,CAAd;AACA,WAAKa,SAAL,GAAiB,EAAjB;AACD;AACD;;;;6BACS;AAAA;;AACP;AACA,UAAI;AACF,aAAKA,SAAL,CAAeI,OAAf,CAAuB,UAACC,IAAD,EAAOC,CAAP,EAAa;AAClC,cAAIL,OAAO,MAAKD,SAAL,CAAeM,CAAf,CAAX;AACAL,eAAKH,MAAL,GAAc,MAAKA,MAAnB;AACAG,eAAKF,OAAL,GAAe,MAAKA,OAAL,GAAe,MAAKC,SAAL,CAAeO,MAA7C;AACAN,eAAKL,EAAL,GAAU,MAAKA,EAAf;AACAK,eAAKJ,EAAL,GAAU,MAAKA,EAAL,GAAU,MAAKE,OAAL,GAAe,MAAKC,SAAL,CAAeO,MAA9B,GAAuCD,CAA3D;AACAL,eAAKO,MAAL;AACD,SAPD;AAQD,OATD,CASE,OAAOC,CAAP,EAAU;AACV;AACD;AAEF;;;;;;;;;;;IClDGC;AAEJ,kBAAiE;AAAA,QAArDlB,CAAqD,yDAAjD,CAAiD;AAAA,QAA9CC,CAA8C,yDAA1C,CAA0C;AAAA,QAAvCC,KAAuC,yDAA/B,CAA+B;;AAAA;;AAAA,QAA5BC,MAA4B,yDAAnB,CAAmB;AAAA,QAAhBgB,KAAgB,yDAAR,MAAQ;;AAAA;;AAC/D,SAAKf,EAAL,GAAUJ,CAAV;AACA,SAAKK,EAAL,GAAUJ,CAAV;AACA,SAAKK,MAAL,GAAcJ,KAAd;AACA,SAAKK,OAAL,GAAeJ,MAAf;AACA,SAAKZ,SAAL,GAAiBC,SAASC,aAAT,CAAuB,KAAvB,CAAjB;AACA,SAAKF,SAAL,CAAe6B,KAAf,CAAqBC,eAArB,GAAuCF,KAAvC;AACA,SAAK5B,SAAL,CAAeH,SAAf,GAA2B,MAA3B;AACA,SAAKkC,QAAL,GAAgB,EAAhB;AACA,SAAK3B,MAAL,GAAc,CAAd;;AAEA,QAAI4B,QAAQ/B,SAASC,aAAT,CAAuB,KAAvB,CAAZ;AACA,QAAI+B,OAAO,IAAItC,MAAJ,CAAW,KAAX,EAAkB,aAAlB,EAAiC,CAAjC,EAAoC,IAApC,CAAX;AACA,QAAIuC,OAAO,IAAIvC,MAAJ,CAAW,KAAX,EAAkB,aAAlB,EAAiC,CAAjC,EAAoC,IAApC,CAAX;AACA,QAAIwC,OAAO,IAAIxC,MAAJ,CAAW,KAAX,EAAkB,aAAlB,EAAiC,CAAjC,EAAoC,IAApC,CAAX;;AAEAqC,UAAMnC,SAAN,GAAkB,OAAlB;;AAEA,SAAKkC,QAAL,CAAcX,IAAd,CAAmBa,IAAnB,EAAyBC,IAAzB,EAA+BC,IAA/B;;AAEA;AACA,SAAKJ,QAAL,CAAcK,GAAd,CAAkB,gBAAQ;AACxBd,WAAKtB,SAAL,CAAeqC,gBAAf,CAAgC,OAAhC,EAAyC;AAAA,eAAK,MAAKC,aAAL,CAAmBZ,CAAnB,CAAL;AAAA,OAAzC;AACAM,YAAMO,WAAN,CAAkBjB,KAAKtB,SAAvB;AACD,KAHD;;AAKA;AACA,SAAKA,SAAL,CAAeuC,WAAf,CAA2BP,KAA3B;AACD;;;;kCAEaN,GAAG;AACf;AACA,UAAMc,QAAQ,KAAKT,QAAL,CAAcU,SAAd,CAAwBC,gBAAxB,CAAd;AACA;AACA,UAAMC,SAAS,KAAKZ,QAAL,CAAcS,KAAd,CAAf;AACA;AACA,eAASE,gBAAT,CAA0BE,OAA1B,EAAmC;AACjC,eAAOA,QAAQ5C,SAAR,IAAqB0B,EAAEmB,MAA9B;AACD;AACD;AACA,UAAG,KAAK1B,OAAL,CAAaf,MAAb,IAAuBuC,OAAOvC,MAAjC,EAAyC;AACzC;AACA,WAAKe,OAAL,CAAa2B,QAAb,CAAsBH,OAAOvC,MAA7B;AACA;AACAqB;AACD;;;6BAEQ;AACP;AACA,UAAI1B,SAAS,KAAKoB,OAAlB;AACA;AACA,UAAMqB,QAAQ,KAAKT,QAAL,CAAcU,SAAd,CAAwBM,aAAxB,CAAd;AACA;AACA,eAASA,aAAT,CAAuBH,OAAvB,EAAgC;AAC9B,eAAOA,QAAQxC,MAAR,IAAkBL,OAAOK,MAAhC;AACD;AACD;AACA,WAAK2B,QAAL,CAAcV,OAAd,CAAsB,UAACC,IAAD,EAAOC,CAAP,EAAa;AACjC,YAAGA,KAAKiB,KAAR,EACElB,KAAK0B,WAAL,GADF,KAGE1B,KAAK2B,aAAL;AACH,OALD;AAMA;AACA,WAAKjD,SAAL,CAAe6B,KAAf,CAAqBlB,KAArB,GAA6B,KAAKI,MAAL,GAAc,IAA3C;AACA,WAAKf,SAAL,CAAe6B,KAAf,CAAqBjB,MAArB,GAA8B,KAAKI,OAAL,GAAe,IAA7C;AACA,WAAKhB,SAAL,CAAe6B,KAAf,CAAqBqB,IAArB,GAA4B,KAAKrC,EAAL,GAAU,IAAtC;AACA,WAAKb,SAAL,CAAe6B,KAAf,CAAqBsB,GAArB,GAA2B,KAAKrC,EAAL,GAAU,IAArC;AACD;;;;;;;ACtEHsC,OAAOf,gBAAP,CAAwB,MAAxB,EAAgCgB,IAAhC;;AAEA,IAAMC,gBAAgB,EAAtB;AACA,IAAMC,oBAAoB,CAA1B;AACA,IAAMC,kBAAkB,GAAxB;;AAEA,IAAIC,QAAQ,EAAZ;AACA,IAAIC,aAAa,EAAjB;;AAEA,SAASL,IAAT,GAAgB;AACd;AACA,MAAIM,OAAO1D,SAAS2D,oBAAT,CAA8B,MAA9B,EAAsC,CAAtC,CAAX;AACA;AACA,OAAK,IAAIrC,IAAI,CAAb,EAAgBA,IAAI+B,aAApB,EAAmC/B,GAAnC,EAAwC;AACtC,QAAIsC,OAAO,IAAIlC,IAAJ,EAAX;AACA,QAAImC,YAAY,IAAItD,SAAJ,EAAhB;AACAiD,UAAMrC,IAAN,CAAWyC,IAAX;AACAF,SAAKpB,WAAL,CAAiBsB,KAAK7D,SAAtB;AACA8D,cAAU1C,IAAV,CAAeyC,IAAf;AACAH,eAAWtC,IAAX,CAAgB0C,SAAhB;AACD;AACD;AACArC;AACA;AACA2B,SAAOf,gBAAP,CAAwB,QAAxB,EAAkCZ,MAAlC;AACD;;AAED,SAASA,MAAT,GAAkB;AAChBsC,UAAQC,GAAR,CAAY,QAAZ;AACA;AACA,MAAMC,aAAaC,eAAnB;AACA;AACA,MAAMC,iBAAiBF,WAAWtD,KAAX,GAAmB4C,iBAA1C;AACA;AACA,MAAIa,UAAUX,MAAMY,KAAN,EAAd;AACA;AACA,MAAIC,SAAS,CAAb;AACA,MAAIC,MAAM,CAAV;;AAEA,OAAK,IAAIhD,IAAI,CAAb,EAAgBA,IAAImC,WAAWlC,MAA/B,EAAuCD,GAAvC,EAA4C;;AAE1C,QAAIuC,YAAYJ,WAAWnC,CAAX,CAAhB;AACA,QAAIzB,QAAQgE,UAAU1D,MAAtB;;AAEA0D,cAAUU,WAAV,CAAsBL,iBAAiBG,MAAvC,EAA+Cd,kBAAkBe,GAAjE;AACAT,cAAUW,OAAV,CAAkBN,cAAlB,EAAkCX,eAAlC;AACAM,cAAUY,KAAV;;AAEA,SAAK,IAAInD,KAAI,CAAb,EAAgBA,KAAIzB,KAApB,EAA2ByB,IAA3B,EAAgC;AAC9B,UAAG6C,QAAQ,CAAR,CAAH,EAAe;AACb;AACAN,kBAAU1C,IAAV,CAAegD,QAAQ,CAAR,CAAf;AACAA,gBAAQO,MAAR,CAAe,CAAf,EAAkB,CAAlB;AACD,OAJD,MAIO;AACLb,kBAAU1C,IAAV,CAAe,EAAf;AACD;AACF;;AAED0C,cAAUrC,MAAV;;AAEA;AACA,QAAO,CAACF,IAAE,CAAH,IAAQgC,iBAAV,IAAiC,CAAtC,EAA0C;AACxCgB;AACAD,eAAS,CAAT;AACD,KAHD,MAGO;AACLA;AACD;AAEF;AAEF;AACD;AACA,SAASJ,aAAT,GAAyB;AACvB,SAAO;AACLvD,WAAOyC,OAAOwB,UADT;AAELhE,YAAQwC,OAAOyB;AAFV,GAAP;AAID","file":"bundle.js","sourcesContent":["class Button {\n\n  constructor(text = \"\", className = \"button\", value, parent) {\n    this._htmlElem = document.createElement('div');\n    this._htmlElem.className = className;\n    this._htmlElem.innerHTML = text;\n    this._value = value;\n  }\n\n  setAsActive() {\n    this._htmlElem.classList.add('active');\n  }\n\n  setAsInactive() {\n    this._htmlElem.classList.remove('active');\n  }\n\n}\n","class Container {\n  constructor(x = 0, y = 0, width = 0, height = 0) {\n    this._x = x;\n    this._y = y;\n    this._width = width;\n    this._height = height;\n    this._elements = [];\n    this._value = 0;\n  }\n  // Set new position\n  setPosition(x, y) {\n    this._x = x;\n    this._y = y;\n  }\n  // Set new size\n  setSize(width, height) {\n    this._width = width;\n    this._height = height;\n  }\n  // Add an element\n  push(elem) {\n    this._value++;\n    elem._parent = this;\n    this._elements.push(elem);\n  }\n  // Set a new value of required elements\n  setValue(value) {\n    this._value = value;\n  }\n  // Reset\n  reset() {\n    this._value = 0;\n    this._elements = [];\n  }\n  // Update its elements\n  update() {\n    // try.. catch.. for an error that occurs for the last tile in the main array. See main.js for the main array\n    try {\n      this._elements.forEach((item, i) => {\n        let elem = this._elements[i];\n        elem._width = this._width;\n        elem._height = this._height / this._elements.length;\n        elem._x = this._x;\n        elem._y = this._y + this._height / this._elements.length * i;\n        elem.update();\n      });\n    } catch (e) {\n      // console.log(e);\n    }\n\n  }\n}\n","class Tile {\n\n  constructor(x = 0, y = 0, width = 0, height = 0, color = \"#eee\") {\n    this._x = x;\n    this._y = y;\n    this._width = width;\n    this._height = height;\n    this._htmlElem = document.createElement('div');\n    this._htmlElem.style.backgroundColor = color;\n    this._htmlElem.className = \"tile\";\n    this._buttons = [];\n    this._value = 1;\n\n    let group = document.createElement('div');\n    let btn1 = new Button('1/1', 'button btn1', 1, this);\n    let btn2 = new Button('1/2', 'button btn1', 2, this);\n    let btn3 = new Button('1/3', 'button btn1', 3, this);\n\n    group.className = 'group';\n\n    this._buttons.push(btn1, btn2, btn3);\n\n    // Iterate through the buttons\n    this._buttons.map(item => {\n      item._htmlElem.addEventListener('click', e => this.catchTheClick(e));\n      group.appendChild(item._htmlElem);\n    });\n\n    // Append the group html element to the Tile html element\n    this._htmlElem.appendChild(group);\n  }\n\n  catchTheClick(e) {\n    // Find target button index\n    const index = this._buttons.findIndex(checkTheHtmlElem);\n    // Save target button\n    const button = this._buttons[index];\n    // Filtering function\n    function checkTheHtmlElem(element) {\n      return element._htmlElem == e.target;\n    }\n    // Break execution if the update is unnecessary\n    if(this._parent._value == button._value) return;\n    // Pass an amount of reqired elements in to the parent (container)\n    this._parent.setValue(button._value);\n    // Update all containers. See main.js for this function\n    update();\n  }\n\n  update() {\n    // Save the parent\n    let parent = this._parent;\n    // Find target button index\n    const index = this._buttons.findIndex(checkTheValue);\n    // Filtering function\n    function checkTheValue(element) {\n      return element._value == parent._value;\n    }\n    // Press the buttons\n    this._buttons.forEach((item, i) => {\n      if(i == index)\n        item.setAsActive();\n      else\n        item.setAsInactive();\n    });\n    // Update its css style\n    this._htmlElem.style.width = this._width + 'px';\n    this._htmlElem.style.height = this._height + 'px';\n    this._htmlElem.style.left = this._x + 'px';\n    this._htmlElem.style.top = this._y + 'px';\n  }\n\n}\n","window.addEventListener('load', init);\n\nconst numberOfTiles = 12;\nconst elementsInTheLine = 3;\nconst containerHeight = 300;\n\nvar tiles = [];\nvar containers = [];\n\nfunction init() {\n  // Get body element\n  let body = document.getElementsByTagName('body')[0];\n  // Create tiles and containers\n  for (let i = 0; i < numberOfTiles; i++) {\n    let tile = new Tile();\n    let container = new Container();\n    tiles.push(tile);\n    body.appendChild(tile._htmlElem);\n    container.push(tile);\n    containers.push(container);\n  }\n  // Default call\n  update();\n  // Call for each resize event\n  window.addEventListener('resize', update);\n}\n\nfunction update() {\n  console.log('update');\n  // Get window size\n  const windowSize = getWindowSize();\n  // Get container width\n  const containerWidth = windowSize.width / elementsInTheLine;\n  // Create a copy of the array\n  let theCopy = tiles.slice();\n  // Define column and row\n  let column = 0;\n  let row = 0;\n\n  for (let i = 0; i < containers.length; i++) {\n\n    let container = containers[i];\n    let value = container._value;\n\n    container.setPosition(containerWidth * column, containerHeight * row);\n    container.setSize(containerWidth, containerHeight);\n    container.reset();\n\n    for (let i = 0; i < value; i++) {\n      if(theCopy[0]) {\n        // Pick the first element and then delete it from the array\n        container.push(theCopy[0]);\n        theCopy.splice(0, 1);\n      } else {\n        container.push({});\n      }\n    }\n\n    container.update();\n\n    // Each 3rd iteration row++ then reset col\n    if ( ( (i+1) % elementsInTheLine ) == 0 ) {\n      row++;\n      column = 0;\n    } else {\n      column++;\n    }\n\n  }\n\n}\n// Get current window size\nfunction getWindowSize() {\n  return {\n    width: window.innerWidth,\n    height: window.innerHeight\n  }\n}\n"],"sourceRoot":"/source/"}