{"version":3,"sources":["Button.js","Container.js","main.js"],"names":["Button","text","className","value","parent","_htmlElem","document","createElement","innerHTML","_value","classList","add","remove","Container","x","y","width","height","_x","_y","_width","_height","_elements","elem","push","length","i","update","window","addEventListener","init","numOfTiles","maxElementsInTheLine","containerHeight","maxElementsPerContainer","theArrayOfTheTiles","theArrayOfTheContainers","body","getElementsByTagName","tile","Tile","container","appendChild","onResize","updateTheContainers","windowSize","getWindowSize","containerWidth","column","row","theCopy","slice","clear","setPosition","setSize","tile2","setTileValue","splice","tile3","innerWidth","innerHeight","color","style","backgroundColor","_buttons","_currentButtonIndex","_parent","index","group","btn1","btn2","btn3","btn","catchTheClick","e","setAsInactive","setAsActive","findIndex","isClickedButton","element","target","left","top"],"mappings":"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","file":"bundle.js","sourcesContent":["class Button {\n\n  constructor(text = \"\", className = \"button\", value = 0, parent) {\n    this._htmlElem = document.createElement('div');\n    this._htmlElem.className = className;\n    this._htmlElem.innerHTML = text;\n    this._value = value;\n  }\n\n  setAsActive() {\n    this._htmlElem.classList.add('active');\n  }\n\n  setAsInactive() {\n    this._htmlElem.classList.remove('active');\n  }\n\n}\n","class Container {\n\n  constructor(x = 0, y = 0, width = 0, height = 0) {\n    this._x = x;\n    this._y = y;\n    this._width = width;\n    this._height = height;\n    this._elements = [];\n  }\n\n  setPosition(x, y) {\n    this._x = x;\n    this._y = y;\n  }\n\n  setSize(width, height) {\n    this._width = width;\n    this._height = height;\n  }\n\n  clear() {\n    this._elements = [];\n  }\n\n  push(elem) {\n    this._elements.push(elem);\n  }\n\n  update() {\n    let length = this._elements.length;\n    for (let i = 0; i < length; i++) {\n      let elem = this._elements[i];\n      elem._width = this._width;\n      elem._height = this._height / length;\n      elem._x = this._x;\n      elem._y = this._y + this._height / length * i;\n      elem.update();\n    }\n  }\n}\n","// import { Container } from \"Container\";\n\nwindow.addEventListener('load', init);\n\nconst numOfTiles = 12;\nconst maxElementsInTheLine = 3;\nconst containerHeight = 300;\nconst maxElementsPerContainer = 3;\n\nvar theArrayOfTheTiles = [];\nvar theArrayOfTheContainers = [];\n\nfunction init() {\n  let body = document.getElementsByTagName('body')[0];\n\n  for (let i = 0; i < numOfTiles; i++) {\n    const tile = new Tile();\n    const container = new Container();\n\n    theArrayOfTheTiles.push(tile);\n    theArrayOfTheContainers.push(container);\n\n    body.appendChild(tile._htmlElem);\n  }\n\n  onResize();\n\n  window.addEventListener('resize', onResize);\n\n}\n\nfunction onResize() {\n  updateTheContainers();\n}\n\nfunction updateTheContainers() {\n\n  const windowSize = getWindowSize();\n  const containerWidth = windowSize.width / maxElementsInTheLine;\n  let column = 0;\n  let row = 0;\n  let theCopy = theArrayOfTheTiles.slice();\n  let i = 0;\n\n  while (theCopy.length) {\n\n    let container = theArrayOfTheContainers[i];\n    let tile = theCopy[0];\n\n    container.clear();\n    container.setPosition(containerWidth * column, containerHeight * row);\n    container.setSize(containerWidth, containerHeight);\n    container.push(tile);\n\n    if(tile._value == 2) {\n      let tile2 = theCopy[1];\n      if(tile2) {\n        tile2.setTileValue(2)\n        container.push(tile2);\n        theCopy.splice(0, 2);\n      }\n    } else if(tile._value == 1) {\n      let tile2 = theCopy[1];\n      let tile3 = theCopy[2];\n      if(tile2) {\n        tile2.setTileValue(1);\n        container.push(tile2);\n      }\n      if(tile3) {\n        tile3.setTileValue(1);\n        container.push(tile3);\n      }\n      theCopy.splice(0, 3);\n    } else {\n      theCopy.splice(0, 1);\n      // Need to pull out elements and place it back to the array\n    }\n\n    container.update();\n\n    if(column == maxElementsInTheLine - 1) {\n      row++;\n      column = 0;\n    } else {\n      column++;\n    }\n\n    i++;\n\n  }\n\n}\n\nfunction getWindowSize() {\n  return {\n    width: window.innerWidth,\n    height: window.innerHeight\n  }\n}\n\nclass Tile {\n\n  constructor(x = 0, y = 0, width = 0, height = 0, color = \"#eee\") {\n    this._x = x;\n    this._y = y;\n    this._width = width;\n    this._height = height;\n    this._htmlElem = document.createElement('div');\n    this._htmlElem.style.backgroundColor = color;\n    this._htmlElem.className = \"tile\";\n    this._buttons = [];\n    this._value = 3;\n    this._currentButtonIndex = 0;\n    this._parent = null;\n\n    let index = 0;\n    let group = document.createElement('div');\n    group.className = 'group';\n\n    let btn1 = new Button('1/1', 'button btn1', 3, this);\n    let btn2 = new Button('1/2', 'button btn1', 2, this);\n    let btn3 = new Button('1/3', 'button btn1', 1, this);\n\n    this._buttons.push(btn1, btn2, btn3);\n\n    for (let i = 0; i < this._buttons.length; i++) {\n      let btn = this._buttons[i];\n      btn._htmlElem.addEventListener('click', e => this.catchTheClick(e));\n      group.appendChild(btn._htmlElem);\n    }\n\n    this._htmlElem.appendChild(group);\n  }\n\n  setTileValue(index) {\n    if(index == this._currentButtonIndex) return false;\n    this._buttons[this._currentButtonIndex].setAsInactive();\n    this._buttons[index].setAsActive();\n    this._value = this._buttons[index]._value;\n    this._currentButtonIndex = index;\n    return true;\n  }\n\n  catchTheClick(e) {\n    const index = this._buttons.findIndex(isClickedButton);\n\n    function isClickedButton(element) {\n      return element._htmlElem == e.target;\n    }\n\n    if(this.setTileValue(index)) updateTheContainers();\n  }\n\n  update() {\n    this._htmlElem.style.width = this._width + 'px';\n    this._htmlElem.style.height = this._height + 'px';\n    this._htmlElem.style.left = this._x + 'px';\n    this._htmlElem.style.top = this._y + 'px';\n  }\n\n}\n"],"sourceRoot":"/source/"}