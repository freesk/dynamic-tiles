{"version":3,"sources":["Button.js","Container.js","Tile.js","main.js"],"names":["Button","text","className","value","parent","_htmlElem","document","createElement","innerHTML","_value","classList","add","remove","Container","x","y","width","height","_x","_y","_width","_height","_elements","_counter","elem","_parent","push","map","item","forEach","i","length","update","Tile","color","style","backgroundColor","_buttons","_debugHtmlElem","_container","index","group","btn1","btn2","btn3","addEventListener","catchTheClick","e","appendChild","findIndex","checkTheValue","element","setAsInactive","setAsActive","setDebugMessage","checkTheHtmlElem","button","target","setValue","updateTheContainers","left","top","window","init","numOfTiles","maxElementsInTheLine","containerHeight","theArrayOfTheTiles","body","getElementsByTagName","tile","windowSize","getWindowSize","containerWidth","theCopy","slice","column","row","container","tile1","tile2","tile3","splice","setPosition","setSize","console","log","innerWidth","innerHeight"],"mappings":"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","file":"bundle.js","sourcesContent":["class Button {\n\n  constructor(text = \"\", className = \"button\", value, parent) {\n    this._htmlElem = document.createElement('div');\n    this._htmlElem.className = className;\n    this._htmlElem.innerHTML = text;\n    this._value = value;\n  }\n\n  setAsActive() {\n    this._htmlElem.classList.add('active');\n  }\n\n  setAsInactive() {\n    this._htmlElem.classList.remove('active');\n  }\n\n}\n","class Container {\n\n  constructor(x = 0, y = 0, width = 0, height = 0) {\n    this._x = x;\n    this._y = y;\n    this._width = width;\n    this._height = height;\n    this._elements = [];\n    this._counter = 0;\n  }\n\n  setPosition(x, y) {\n    this._x = x;\n    this._y = y;\n  }\n\n  setSize(width, height) {\n    this._width = width;\n    this._height = height;\n  }\n\n  clear() {\n    this._elements = [];\n  }\n\n  push(elem) {\n    // console.log(elem);\n    elem._parent = this;\n    this._elements.push(elem);\n  }\n\n  count() {\n    this._counter = 0;\n    this._elements.map(item => this._counter += item._value);\n  }\n\n  fill() {\n\n  }\n\n  update() {\n    this._elements.forEach((item, i) => {\n      let elem = this._elements[i];\n      elem._width = this._width;\n      elem._height = this._height / this._elements.length;\n      elem._x = this._x;\n      elem._y = this._y + this._height / this._elements.length * i;\n      elem.update();\n    });\n  }\n}\n","class Tile {\n\n  constructor(x = 0, y = 0, width = 0, height = 0, color = \"#eee\") {\n    this._x = x;\n    this._y = y;\n    this._width = width;\n    this._height = height;\n    this._htmlElem = document.createElement('div');\n    this._htmlElem.style.backgroundColor = color;\n    this._htmlElem.className = \"tile\";\n    this._buttons = [];\n    this._value = 3;\n    this._debugHtmlElem = document.createElement('div');\n    this._debugHtmlElem.className = 'debug';\n    this._container = null;\n\n    let index = 0;\n    let group = document.createElement('div');\n    group.className = 'group';\n\n    let btn1 = new Button('1/1', 'button btn1', 3, this);\n    let btn2 = new Button('1/2', 'button btn1', 1.5, this);\n    let btn3 = new Button('1/3', 'button btn1', 1, this);\n\n    this._buttons.push(btn1, btn2, btn3);\n\n    this._buttons.map(item => {\n      item._htmlElem.addEventListener('click', e => this.catchTheClick(e));\n      group.appendChild(item._htmlElem);\n    });\n\n    this._htmlElem.appendChild(this._debugHtmlElem);\n    this._htmlElem.appendChild(group);\n  }\n\n  setDebugMessage(text) {\n    this._debugHtmlElem.innerHTML = text;\n  }\n\n  setValue(value) {\n    const index = this._buttons.findIndex(checkTheValue);\n\n    function checkTheValue(element) {\n      return element._value == value;\n    }\n\n    this._buttons.forEach((item, i) => {\n      if(i != index)\n        item.setAsInactive();\n      else\n        item.setAsActive();\n    });\n\n    this._value = value;\n    this.setDebugMessage(value);\n  }\n\n  catchTheClick(e) {\n    const index = this._buttons.findIndex(checkTheHtmlElem);\n    const button = this._buttons[index];\n\n    function checkTheHtmlElem(element) {\n      return element._htmlElem == e.target;\n    }\n\n    if(button._value == this._value) return;\n\n    this.setValue(button._value);\n\n    updateTheContainers();\n  }\n\n  update() {\n    this._htmlElem.style.width = this._width + 'px';\n    this._htmlElem.style.height = this._height + 'px';\n    this._htmlElem.style.left = this._x + 'px';\n    this._htmlElem.style.top = this._y + 'px';\n  }\n\n}\n","window.addEventListener('load', init);\n\nconst numOfTiles = 12;\nconst maxElementsInTheLine = 3;\nconst containerHeight = 300;\n\nvar theArrayOfTheTiles = [];\n\nfunction init() {\n  let body = document.getElementsByTagName('body')[0];\n\n  for (let i = 0; i < numOfTiles; i++) {\n    const tile = new Tile();\n    theArrayOfTheTiles.push(tile);\n    body.appendChild(tile._htmlElem);\n  }\n\n  updateTheContainers();\n  window.addEventListener('resize', updateTheContainers);\n}\n\nfunction updateTheContainers() {\n\n  const windowSize = getWindowSize();\n  const containerWidth = windowSize.width / maxElementsInTheLine;\n  let theCopy = theArrayOfTheTiles.slice();\n  let column = 0;\n  let row = 0;\n  let i = 0;\n\n  while (theCopy.length) {\n\n    let container = new Container();\n\n    let tile1 = theCopy[0];\n    let tile2 = theCopy[1];\n    let tile3 = theCopy[2];\n\n    function push(tile, value) {\n      if(!tile) return;\n      if(value) tile.setValue(value);\n      container.push(tile);\n      theCopy.splice(0, 1);\n    }\n\n    container.setPosition(containerWidth * column, containerHeight * row);\n    container.setSize(containerWidth, containerHeight);\n\n    console.log(tile1._value);\n\n    push(tile1);\n\n    if(tile1._value == 1.5) {\n      push(tile2, 1.5);\n    } else if(tile1._value == 1) {\n      push(tile2, 1);\n      push(tile3, 1);\n    } else {\n\n    }\n\n    container.update();\n\n    if(column == maxElementsInTheLine - 1) {\n      row++;\n      column = 0;\n    } else {\n      column++;\n    }\n\n    i++;\n\n  }\n\n}\n\nfunction getWindowSize() {\n  return {\n    width: window.innerWidth,\n    height: window.innerHeight\n  }\n}\n"],"sourceRoot":"/source/"}