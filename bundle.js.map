{"version":3,"sources":["Button.js","Container.js","Tile.js","main.js"],"names":["Button","text","className","value","parent","_htmlElem","document","createElement","innerHTML","_value","classList","add","remove","Container","x","y","width","height","_x","_y","_width","_height","_elements","_counter","elem","push","map","item","forEach","i","length","update","Tile","color","style","backgroundColor","_buttons","_currentButtonIndex","_debugHtmlElem","index","group","btn1","btn2","btn3","addEventListener","catchTheClick","e","appendChild","setAsInactive","setAsActive","setDebugMessage","findIndex","isClickedButton","element","target","setValue","updateTheContainers","left","top","window","init","numOfTiles","maxElementsInTheLine","containerHeight","theArrayOfTheTiles","body","getElementsByTagName","tile","windowSize","getWindowSize","containerWidth","theCopy","slice","column","row","container","tile1","tile2","tile3","splice","setPosition","setSize","innerWidth","innerHeight"],"mappings":"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","file":"bundle.js","sourcesContent":["class Button {\n\n  constructor(text = \"\", className = \"button\", value = 0, parent) {\n    this._htmlElem = document.createElement('div');\n    this._htmlElem.className = className;\n    this._htmlElem.innerHTML = text;\n    this._value = value;\n  }\n\n  setAsActive() {\n    this._htmlElem.classList.add('active');\n  }\n\n  setAsInactive() {\n    this._htmlElem.classList.remove('active');\n  }\n\n}\n","class Container {\n\n  constructor(x = 0, y = 0, width = 0, height = 0) {\n    this._x = x;\n    this._y = y;\n    this._width = width;\n    this._height = height;\n    this._elements = [];\n    this._counter = 0;\n  }\n\n  setPosition(x, y) {\n    this._x = x;\n    this._y = y;\n  }\n\n  setSize(width, height) {\n    this._width = width;\n    this._height = height;\n  }\n\n  clear() {\n    this._elements = [];\n  }\n\n  push(elem) {\n    this._elements.push(elem);\n  }\n\n  count() {\n    this._counter = 0;\n    this._elements.map(item => this._counter += item._value);\n  }\n\n  fill() {\n\n  }\n\n  update() {\n    this._elements.forEach((item, i) => {\n      let elem = this._elements[i];\n      elem._width = this._width;\n      elem._height = this._height / this._elements.length;\n      elem._x = this._x;\n      elem._y = this._y + this._height / this._elements.length * i;\n      elem.update();\n    });\n  }\n}\n","class Tile {\n\n  constructor(x = 0, y = 0, width = 0, height = 0, color = \"#eee\") {\n    this._x = x;\n    this._y = y;\n    this._width = width;\n    this._height = height;\n    this._htmlElem = document.createElement('div');\n    this._htmlElem.style.backgroundColor = color;\n    this._htmlElem.className = \"tile\";\n    this._buttons = [];\n    this._value = 3;\n    this._currentButtonIndex = 0;\n    this._debugHtmlElem = document.createElement('div');\n    this._debugHtmlElem.className = 'debug';\n\n    let index = 0;\n    let group = document.createElement('div');\n    group.className = 'group';\n\n    let btn1 = new Button('1/1', 'button btn1', 3, this);\n    let btn2 = new Button('1/2', 'button btn1', 2, this);\n    let btn3 = new Button('1/3', 'button btn1', 1, this);\n\n    this._buttons.push(btn1, btn2, btn3);\n\n    this._buttons.map(item => {\n      item._htmlElem.addEventListener('click', e => this.catchTheClick(e));\n      group.appendChild(item._htmlElem);\n    });\n\n    this._htmlElem.appendChild(this._debugHtmlElem);\n    this._htmlElem.appendChild(group);\n  }\n\n  setDebugMessage(text) {\n    this._debugHtmlElem.innerHTML = text;\n  }\n\n  setValue(index) {\n    if(index == this._currentButtonIndex) return false;\n\n    this._buttons[this._currentButtonIndex].setAsInactive();\n    this._buttons[index].setAsActive();\n    this._value = this._buttons[index]._value;\n    this._currentButtonIndex = index;\n    this.setDebugMessage(this._buttons[index]._value);\n\n    return true;\n  }\n\n  catchTheClick(e) {\n    const index = this._buttons.findIndex(isClickedButton);\n\n    function isClickedButton(element) {\n      return element._htmlElem == e.target;\n    }\n\n    if(this.setValue(index)) updateTheContainers();\n  }\n\n  update() {\n    this._htmlElem.style.width = this._width + 'px';\n    this._htmlElem.style.height = this._height + 'px';\n    this._htmlElem.style.left = this._x + 'px';\n    this._htmlElem.style.top = this._y + 'px';\n  }\n\n}\n","// import { Container } from \"Container\";\n\nwindow.addEventListener('load', init);\n\nconst numOfTiles = 12;\nconst maxElementsInTheLine = 3;\nconst containerHeight = 300;\n\nvar theArrayOfTheTiles = [];\n\nfunction init() {\n  let body = document.getElementsByTagName('body')[0];\n\n  for (let i = 0; i < numOfTiles; i++) {\n    const tile = new Tile();\n    theArrayOfTheTiles.push(tile);\n    body.appendChild(tile._htmlElem);\n  }\n\n  updateTheContainers();\n\n  window.addEventListener('resize', updateTheContainers);\n}\n\nfunction updateTheContainers() {\n\n  const windowSize = getWindowSize();\n  const containerWidth = windowSize.width / maxElementsInTheLine;\n  let theCopy = theArrayOfTheTiles.slice();\n  let column = 0;\n  let row = 0;\n  let i = 0;\n\n  while (theCopy.length) {\n\n    let container = new Container();\n    let tile1 = theCopy[0];\n    let tile2 = theCopy[1];\n    let tile3 = theCopy[2];\n\n    function push(tile, value) {\n      if(!tile) return;\n      if(value) tile.setValue(value);\n      container.push(tile);\n      theCopy.splice(0, 1);\n    }\n\n    container.setPosition(containerWidth * column, containerHeight * row);\n    container.setSize(containerWidth, containerHeight);\n\n    push(tile1);\n\n    if(tile1._value == 2) {\n      push(tile2, 2);\n    } else if(tile1._value == 1) {\n      push(tile2, 1);\n      push(tile3, 1);\n    }\n\n    container.update();\n\n    if(column == maxElementsInTheLine - 1) {\n      row++;\n      column = 0;\n    } else {\n      column++;\n    }\n\n    i++;\n\n  }\n\n}\n\nfunction getWindowSize() {\n  return {\n    width: window.innerWidth,\n    height: window.innerHeight\n  }\n}\n"],"sourceRoot":"/source/"}